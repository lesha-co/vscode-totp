{"version":3,"file":"extension.js","mappings":";;;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,uBAAuB;AAChD,uBAAuB;AACvB,sBAAsB;AACtB;;;;;;;;;;ACLa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,mBAAmB,mBAAO,CAAC,0EAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,gBAAgB,gBAAgB,OAAO,KAAK,WAAW;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;;;;;;;;;ACnEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,GAAG,gBAAgB,GAAG,cAAc;AACnD,uBAAuB,mBAAO,CAAC,kFAAgB;AAC/C,wBAAwB,mBAAO,CAAC,oFAAiB;AACjD,qBAAqB,mBAAO,CAAC,8EAAc;AAC3C,uBAAuB,mBAAO,CAAC,kFAAgB;AAC/C,wBAAwB,mBAAO,CAAC,oFAAiB;AACjD,qBAAqB,mBAAO,CAAC,8EAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;;;;;;;;;AChDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;;;;;;;;;ACda;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,GAAG,gBAAgB,GAAG,eAAe,GAAG,qBAAqB,GAAG,qBAAqB,GAAG,kBAAkB,GAAG,oBAAoB,GAAG,kBAAkB,GAAG,oBAAoB;AAC3L,qBAAqB,mBAAO,CAAC,kFAAgB;AAC7C,gDAA+C,EAAE,qCAAqC,uCAAuC,EAAC;AAC9H,mBAAmB,mBAAO,CAAC,8EAAc;AACzC,8CAA6C,EAAE,qCAAqC,mCAAmC,EAAC;AACxH,qBAAqB,mBAAO,CAAC,kFAAgB;AAC7C,gDAA+C,EAAE,qCAAqC,uCAAuC,EAAC;AAC9H,mBAAmB,mBAAO,CAAC,8EAAc;AACzC,8CAA6C,EAAE,qCAAqC,mCAAmC,EAAC;AACxH,sBAAsB,mBAAO,CAAC,oFAAiB;AAC/C,iDAAgD,EAAE,qCAAqC,yCAAyC,EAAC;AACjI,sBAAsB,mBAAO,CAAC,oFAAiB;AAC/C,iDAAgD,EAAE,qCAAqC,yCAAyC,EAAC;AACjI,gBAAgB,mBAAO,CAAC,wEAAW;AACnC,2CAA0C,EAAE,qCAAqC,6BAA6B,EAAC;AAC/G,4CAA2C,EAAE,qCAAqC,8BAA8B,EAAC;AACjH,0CAAyC,EAAE,qCAAqC,4BAA4B,EAAC;AAC7G;;;;;;;;;;ACnBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;;;;;;;;;ACXa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,mBAAmB,mBAAO,CAAC,0EAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;;;;;;;;;AC5Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;;;;;;;;;ACXa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,WAAW,mBAAO,CAAC,mDAAG;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,4BAA4B;AACxC;AACA,aAAa;AACb;AACA,eAAe;AACf;;;;;;;;;;ACpBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;;;;;;;;;ACxBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,kBAAkB;AAClB;;;;;;;;;;ACba;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C;AACA,YAAY,uBAAuB;AACnC;AACA;AACA;AACA;AACA,wBAAwB,WAAW;AACnC;AACA;AACA,aAAa;AACb;AACA,uBAAuB;AACvB;;;;;;;;;;ACxBa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,iCAAiC,mBAAO,CAAC,sBAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;;;;;;;;;ACnBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,qBAAqB,mBAAO,CAAC,0EAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;;;;;;;;;AC5Ba;AACb,8CAA6C,E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","sources":[".././node_modules/simple-totp/dist/converters/alphabet.js",".././node_modules/simple-totp/dist/converters/ascii_to_u8a.js",".././node_modules/simple-totp/dist/converters/base32_to_u8a.js",".././node_modules/simple-totp/dist/converters/convert.js",".././node_modules/simple-totp/dist/converters/hex_to_u8a.js",".././node_modules/simple-totp/dist/converters/index.js",".././node_modules/simple-totp/dist/converters/u8a_to_ascii.js",".././node_modules/simple-totp/dist/converters/u8a_to_base32.js",".././node_modules/simple-totp/dist/converters/u8a_to_hex.js",".././node_modules/simple-totp/dist/getTOTP.js",".././node_modules/simple-totp/dist/hotp/getCode.js",".././node_modules/simple-totp/dist/hotp/getCounter.js",".././node_modules/simple-totp/dist/hotp/getCounterValue.js",".././node_modules/simple-totp/dist/hotp/getHMAC.js",".././node_modules/simple-totp/dist/hotp/getKey.js",".././node_modules/simple-totp/dist/hotp/index.js",".././node_modules/simple-totp/dist/index.js",".././src/addTOTP.ts",".././src/buttons.ts",".././src/commands.ts",".././src/commands/backup.ts",".././src/commands/clear.ts",".././src/commands/edit.ts",".././src/commands/new.ts",".././src/commands/pick.ts",".././src/commands/restore.ts",".././src/makeStatusBarItem.ts",".././src/pickOTP.ts",".././src/store/askForEncryptionPassphrase.ts",".././src/store/context.ts",".././src/store/crypto.ts",".././src/store/index.ts",".././src/store/passphraseGetter.ts",".././src/store/versions/auto.ts",".././src/store/versions/v1.ts",".././src/store/versions/v2.ts","../external commonjs \"vscode\"","../external node-commonjs \"crypto\"","../webpack/bootstrap",".././src/extension.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BASE32_PADDING = exports.BASE32_ALPHABET = void 0;\nexports.BASE32_ALPHABET = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\nexports.BASE32_PADDING = \"=\";\n//# sourceMappingURL=alphabet.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ascii_to_u8a = void 0;\nconst ascii_to_u8a = (str) => {\n    const result = new Uint8Array(str.length).map((_, i) => str.codePointAt(i) ?? 0);\n    return result;\n};\nexports.ascii_to_u8a = ascii_to_u8a;\n//# sourceMappingURL=ascii_to_u8a.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.base32_to_u8a = void 0;\nconst alphabet_1 = require(\"./alphabet\");\nconst shiftNumber = (n, shift) => {\n    if (shift == 0)\n        return n;\n    if (shift < 0)\n        return n >> Math.abs(shift);\n    if (shift > 0)\n        return n << shift;\n    throw new Error(\"what\");\n};\nconst writeBits = (buf, beginAtBit, nBits, value) => {\n    // consider third codepoint:\n    // AAAAAAAA BBBBBBBB.CCCCCCCC  bytes\n    // 00000111 11222223.33334444  codepoints\n    // ******** **OOOOO*.********  third character will have these bits to it\n    // -------- ->      .          bitOffset = 2x5= 10\n    //          ->      .          offsetInByte = 10%8= 2\n    //                 <.          shift = 3-offsetInByte\n    // consider 4th codepoint\n    // AAAAAAAA BBBBBBBB.CCCCCCCC  bytes\n    // 00000111 11222223.33334444  codepoints\n    // ******** *******O.OOOO****  fourth character will have these bits to it\n    // -------- ------> .          bitOffset = 3x5= 15\n    //          ------> .          offsetInByte = 15%8= 7\n    //                  .    <---  shift = 3-offsetInByte = -4 (-4 + 8 = 4 in next byte)\n    if (buf.length * 8 - (beginAtBit + nBits) < 0) {\n        throw new Error(`Attempt to write past array end: Array length: ${buf.length * 8} bits, writing ${nBits} at ${beginAtBit}`);\n    }\n    value &= 2 ** nBits - 1;\n    const startingByte = Math.floor(beginAtBit / 8);\n    const offsetInStartingByte = beginAtBit % 8;\n    const shift = 8 - nBits - offsetInStartingByte;\n    buf[startingByte] = (buf[startingByte] | shiftNumber(value, shift)) & 0xff;\n    if (shift < 0) {\n        // next byte\n        const offsetInNextByte = offsetInStartingByte - 8;\n        const shift = 8 - nBits - offsetInNextByte;\n        buf[startingByte + 1] =\n            (buf[startingByte + 1] | shiftNumber(value, shift)) & 0xff;\n    }\n};\nconst base32_to_u8a = (b32string) => {\n    if (b32string.length % 8)\n        throw new Error(\"input should have length of multiple of 8\");\n    if (b32string.includes(alphabet_1.BASE32_PADDING)) {\n        b32string = b32string.slice(0, b32string.indexOf(alphabet_1.BASE32_PADDING));\n    }\n    const codepoints = Array.from(b32string).map((x) => alphabet_1.BASE32_ALPHABET.indexOf(x));\n    if (codepoints.some((x) => x === -1))\n        throw new Error(\"Illegal characters found in input\");\n    const buf = new Uint8Array((b32string.length * 5) / 8);\n    let bitOffset = 0;\n    for (const codepoint of codepoints) {\n        const realBits = Math.min(5, buf.length * 8 - bitOffset);\n        let realValue = codepoint;\n        if (realBits < 5) {\n            realValue >>= 5 - realBits;\n        }\n        writeBits(buf, bitOffset, realBits, realValue);\n        bitOffset += 5;\n    }\n    return buf;\n};\nexports.base32_to_u8a = base32_to_u8a;\n//# sourceMappingURL=base32_to_u8a.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convert = exports.from_u8a = exports.to_u8a = void 0;\nconst ascii_to_u8a_1 = require(\"./ascii_to_u8a\");\nconst base32_to_u8a_1 = require(\"./base32_to_u8a\");\nconst hex_to_u8a_1 = require(\"./hex_to_u8a\");\nconst u8a_to_ascii_1 = require(\"./u8a_to_ascii\");\nconst u8a_to_base32_1 = require(\"./u8a_to_base32\");\nconst u8a_to_hex_1 = require(\"./u8a_to_hex\");\nconst to_u8a = (encoding, value) => {\n    switch (encoding) {\n        case \"ascii\":\n            return (0, ascii_to_u8a_1.ascii_to_u8a)(value);\n        case \"hex\":\n            return (0, hex_to_u8a_1.hex_to_u8a)(value);\n        case \"base32\":\n            return (0, base32_to_u8a_1.base32_to_u8a)(value);\n    }\n};\nexports.to_u8a = to_u8a;\nconst from_u8a = (data, encoding) => {\n    switch (encoding) {\n        case \"ascii\":\n            return (0, u8a_to_ascii_1.u8a_to_ascii)(data);\n        case \"hex\":\n            return (0, u8a_to_hex_1.u8a_to_hex)(data);\n        case \"base32\":\n            return (0, u8a_to_base32_1.u8a_to_base32)(data);\n    }\n};\nexports.from_u8a = from_u8a;\nconst convert = (from, to, value) => {\n    let u8a;\n    switch (from) {\n        case \"raw\":\n            u8a = value;\n            break;\n        default:\n            u8a = (0, exports.to_u8a)(from, value);\n    }\n    switch (to) {\n        case \"raw\":\n            return u8a;\n        default:\n            return (0, exports.from_u8a)(u8a, to);\n    }\n};\nexports.convert = convert;\n//# sourceMappingURL=convert.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hex_to_u8a = void 0;\nconst hex_to_u8a = (str) => {\n    if (str.length % 2)\n        throw new Error(\"odd string length\");\n    const result = new Uint8Array(str.length / 2);\n    for (let index = 0; index < result.length; index++) {\n        const hex = str.slice(index * 2, index * 2 + 2);\n        result[index] = parseInt(hex, 16);\n    }\n    return result;\n};\nexports.hex_to_u8a = hex_to_u8a;\n//# sourceMappingURL=hex_to_u8a.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.to_u8a = exports.from_u8a = exports.convert = exports.base32_to_u8a = exports.u8a_to_base32 = exports.u8a_to_hex = exports.u8a_to_ascii = exports.hex_to_u8a = exports.ascii_to_u8a = void 0;\nvar ascii_to_u8a_1 = require(\"./ascii_to_u8a\");\nObject.defineProperty(exports, \"ascii_to_u8a\", { enumerable: true, get: function () { return ascii_to_u8a_1.ascii_to_u8a; } });\nvar hex_to_u8a_1 = require(\"./hex_to_u8a\");\nObject.defineProperty(exports, \"hex_to_u8a\", { enumerable: true, get: function () { return hex_to_u8a_1.hex_to_u8a; } });\nvar u8a_to_ascii_1 = require(\"./u8a_to_ascii\");\nObject.defineProperty(exports, \"u8a_to_ascii\", { enumerable: true, get: function () { return u8a_to_ascii_1.u8a_to_ascii; } });\nvar u8a_to_hex_1 = require(\"./u8a_to_hex\");\nObject.defineProperty(exports, \"u8a_to_hex\", { enumerable: true, get: function () { return u8a_to_hex_1.u8a_to_hex; } });\nvar u8a_to_base32_1 = require(\"./u8a_to_base32\");\nObject.defineProperty(exports, \"u8a_to_base32\", { enumerable: true, get: function () { return u8a_to_base32_1.u8a_to_base32; } });\nvar base32_to_u8a_1 = require(\"./base32_to_u8a\");\nObject.defineProperty(exports, \"base32_to_u8a\", { enumerable: true, get: function () { return base32_to_u8a_1.base32_to_u8a; } });\nvar convert_1 = require(\"./convert\");\nObject.defineProperty(exports, \"convert\", { enumerable: true, get: function () { return convert_1.convert; } });\nObject.defineProperty(exports, \"from_u8a\", { enumerable: true, get: function () { return convert_1.from_u8a; } });\nObject.defineProperty(exports, \"to_u8a\", { enumerable: true, get: function () { return convert_1.to_u8a; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.u8a_to_ascii = void 0;\nconst u8a_to_ascii = (u8a) => {\n    let string = \"\";\n    for (const byte of u8a) {\n        string += String.fromCharCode(byte);\n    }\n    return string;\n};\nexports.u8a_to_ascii = u8a_to_ascii;\n//# sourceMappingURL=u8a_to_ascii.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.u8a_to_base32 = void 0;\nconst alphabet_1 = require(\"./alphabet\");\nconst u8a_to_base32 = (buf) => {\n    let _buf = buf.slice();\n    let current = 0;\n    let currentBitLength = 0;\n    let base32 = \"\";\n    const CONSUME = 8;\n    const FLUSH = 5;\n    const consumeFromSource = () => {\n        current = (current << CONSUME) | _buf[0];\n        currentBitLength += CONSUME;\n        _buf = _buf.slice(1);\n    };\n    const flush = () => {\n        const leading5bits = current >> (currentBitLength - FLUSH);\n        current -= leading5bits << (currentBitLength - FLUSH);\n        currentBitLength -= FLUSH;\n        base32 += alphabet_1.BASE32_ALPHABET[leading5bits];\n    };\n    const align = () => {\n        current = current << (FLUSH - currentBitLength);\n        currentBitLength = FLUSH;\n    };\n    const pad = () => {\n        const length = Math.ceil(base32.length / 8) * 8;\n        base32 = base32.padEnd(length, alphabet_1.BASE32_PADDING);\n    };\n    while (_buf.length) {\n        while (currentBitLength < 5)\n            consumeFromSource();\n        while (currentBitLength >= 5)\n            flush();\n    }\n    if (currentBitLength > 0) {\n        align();\n        flush();\n        pad();\n    }\n    return base32;\n};\nexports.u8a_to_base32 = u8a_to_base32;\n//# sourceMappingURL=u8a_to_base32.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.u8a_to_hex = void 0;\nconst u8a_to_hex = (u8a) => {\n    let string = \"\";\n    for (const byte of u8a) {\n        string += byte.toString(16).padStart(2, \"0\");\n    }\n    return string;\n};\nexports.u8a_to_hex = u8a_to_hex;\n//# sourceMappingURL=u8a_to_hex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTOTP = void 0;\nconst _1 = require(\".\");\n/**\n * Full implementation of HMAC-based one-time password algorighm\n * @param secretKey secret key in form of a Uint8Array or a string\n * @param timestamp\n * @param encoding encoding of a secret key in case it's a string\n * @param nDigits length of an OTP\n * @param T0 Epoch of a counter\n * @param Tx Period of a counter\n * @returns\n */\nconst getTOTP = (secretKey, encoding = undefined, timestamp = Date.now(), nDigits = 6, T0 = 0, Tx = 30000) => {\n    const { counterValue, remainingMs } = (0, _1.getCounterValue)(timestamp, T0, Tx);\n    const totp = (0, _1.getCode)((0, _1.getHMAC)((0, _1.getKey)(secretKey, encoding), counterValue), nDigits);\n    return { totp, remainingMs };\n};\nexports.getTOTP = getTOTP;\n//# sourceMappingURL=getTOTP.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCode = void 0;\n/**\n * Provide human-readable representation of HMAC\n * @param hmac hash to format\n * @param nDigits length of code\n * @returns human-readable code\n */\nconst getCode = (hmac, nDigits) => {\n    // Truncation first takes the 4 least significant bits of the MAC\n    const offset = hmac[hmac.length - 1] & 0xf;\n    // and uses them as a byte offset `offset`. That index i is used to select\n    // 31 bits from MAC\n    const fourBytes = ((hmac[offset] << 24) +\n        (hmac[offset + 1] << 16) +\n        (hmac[offset + 2] << 8) +\n        hmac[offset + 3]) &\n        0x7fffffff;\n    // The HOTP value is the human-readable design output, a `nDigits`-digit\n    // decimal number (without omission of leading 0s):\n    return (fourBytes % 10 ** nDigits).toString(10).padStart(nDigits, \"0\");\n};\nexports.getCode = getCode;\n//# sourceMappingURL=getCode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCounter = void 0;\n/**\n * Calculate a counter value\n */\nconst getCounter = (timestamp, T0, Tx) => {\n    const adjustedTimestamp = timestamp - T0;\n    const remainingMs = Tx - (adjustedTimestamp % Tx);\n    const counter = Math.floor(adjustedTimestamp / Tx);\n    return { counter, remainingMs };\n};\nexports.getCounter = getCounter;\n//# sourceMappingURL=getCounter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCounterValue = void 0;\n/**\n * Calculate a counter value\n * @param timestamp current UNIX timestamp in milliseconds\n * @param T0 Epoch, i.e. which timestamp is considered start of the counting\n * (use `0` unless otherwise specified)\n * @param Tx Duration of each period in milliseconds (usually `30000`)\n * @returns\n */\nconst getCounter_1 = require(\"./getCounter\");\nconst getCounterValue = (timestamp, T0, Tx) => {\n    const { counter, remainingMs } = (0, getCounter_1.getCounter)(timestamp, T0, Tx);\n    const counterValue = new Uint8Array(8);\n    // TODO: use writeBigInt64BE(counter, 0) (requires node v12.something)\n    // This can wait until 2038 when 64bit time stamps become necessity\n    const counterBytes = new Uint8Array(4).map((_, i) => (counter >> ((3 - i) * 8)) & 0xff);\n    for (let index = 0; index < 4; index++) {\n        counterValue[4 + index] = counterBytes[index];\n    }\n    return { counterValue, remainingMs };\n};\nexports.getCounterValue = getCounterValue;\n//# sourceMappingURL=getCounterValue.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHMAC = void 0;\nconst crypto_1 = __importDefault(require(\"crypto\"));\n/**\n * Quick shortcut to creating HMACs\n * @param secret Secret key\n * @param message Message to hash\n * @returns HMAC of your message\n */\nconst getHMAC = (secret, message) => {\n    const buf = crypto_1.default.createHmac(\"sha1\", secret).update(message).digest();\n    const u8a = new Uint8Array(buf);\n    return u8a;\n};\nexports.getHMAC = getHMAC;\n//# sourceMappingURL=getHMAC.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getKey = void 0;\nconst converters_1 = require(\"../converters\");\n/**\n * creates a Uint8Array with your secret key to use in HMAC. You don't need\n * this function if your secret key is already a Uint8Array.\n * @param input your secret key, in form of a Uint8Array or a string (strings need\n * to specify encoding)\n * @param encoding if your secret key is a string, specify encoding.\n * @returns your secret key\n */\nconst getKey = (input, encoding) => {\n    if (input instanceof Uint8Array)\n        return input;\n    if (encoding === undefined) {\n        throw new Error(\"Encoding should be provided for string inputs\");\n    }\n    switch (encoding) {\n        case \"ascii\":\n            return (0, converters_1.ascii_to_u8a)(input);\n        case \"base32\":\n            return (0, converters_1.base32_to_u8a)(input);\n        case \"hex\":\n            return (0, converters_1.hex_to_u8a)(input);\n    }\n};\nexports.getKey = getKey;\n//# sourceMappingURL=getKey.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHMAC = exports.getCounter = exports.getCounterValue = exports.getKey = exports.getCode = void 0;\nvar getCode_1 = require(\"./getCode\");\nObject.defineProperty(exports, \"getCode\", { enumerable: true, get: function () { return getCode_1.getCode; } });\nvar getKey_1 = require(\"./getKey\");\nObject.defineProperty(exports, \"getKey\", { enumerable: true, get: function () { return getKey_1.getKey; } });\nvar getCounterValue_1 = require(\"./getCounterValue\");\nObject.defineProperty(exports, \"getCounterValue\", { enumerable: true, get: function () { return getCounterValue_1.getCounterValue; } });\nvar getCounter_1 = require(\"./getCounter\");\nObject.defineProperty(exports, \"getCounter\", { enumerable: true, get: function () { return getCounter_1.getCounter; } });\nvar getHMAC_1 = require(\"./getHMAC\");\nObject.defineProperty(exports, \"getHMAC\", { enumerable: true, get: function () { return getHMAC_1.getHMAC; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTOTP = exports.from_u8a = exports.to_u8a = exports.convert = exports.BASE32_PADDING = exports.BASE32_ALPHABET = exports.getCounter = exports.getKey = exports.getHMAC = exports.getCounterValue = exports.getCode = void 0;\nvar hotp_1 = require(\"./hotp\");\nObject.defineProperty(exports, \"getCode\", { enumerable: true, get: function () { return hotp_1.getCode; } });\nObject.defineProperty(exports, \"getCounterValue\", { enumerable: true, get: function () { return hotp_1.getCounterValue; } });\nObject.defineProperty(exports, \"getHMAC\", { enumerable: true, get: function () { return hotp_1.getHMAC; } });\nObject.defineProperty(exports, \"getKey\", { enumerable: true, get: function () { return hotp_1.getKey; } });\nObject.defineProperty(exports, \"getCounter\", { enumerable: true, get: function () { return hotp_1.getCounter; } });\nvar alphabet_1 = require(\"./converters/alphabet\");\nObject.defineProperty(exports, \"BASE32_ALPHABET\", { enumerable: true, get: function () { return alphabet_1.BASE32_ALPHABET; } });\nObject.defineProperty(exports, \"BASE32_PADDING\", { enumerable: true, get: function () { return alphabet_1.BASE32_PADDING; } });\nvar converters_1 = require(\"./converters\");\nObject.defineProperty(exports, \"convert\", { enumerable: true, get: function () { return converters_1.convert; } });\nObject.defineProperty(exports, \"to_u8a\", { enumerable: true, get: function () { return converters_1.to_u8a; } });\nObject.defineProperty(exports, \"from_u8a\", { enumerable: true, get: function () { return converters_1.from_u8a; } });\nvar getTOTP_1 = require(\"./getTOTP\");\nObject.defineProperty(exports, \"getTOTP\", { enumerable: true, get: function () { return getTOTP_1.getTOTP; } });\n//# sourceMappingURL=index.js.map","import { QuickPickItem, ExtensionContext, window } from \"vscode\";\nimport { to_u8a, from_u8a } from \"simple-totp\";\nimport { Code } from \"./store/index\";\n\nenum AdditionalEncodings {\n  BASE_32 = \"base32\",\n  OTPAUTH_URI = \"otpauth:// TOTP key\",\n}\n\ninterface State {\n  encoding: BufferEncoding | AdditionalEncodings;\n  key: Uint8Array;\n  T0: number;\n  TX: number;\n  nDigits: number;\n  prefix: string;\n  name: string;\n  needCustomParams: boolean;\n}\n\ntype PartialStateResolver = (\n  s: Partial<State>\n) => Promise<Partial<State>> | Partial<State>;\n\nconst isFullState = (s: Partial<State>): s is State => {\n  if (s.T0 === undefined) {\n    return false;\n  }\n  if (s.TX === undefined) {\n    return false;\n  }\n  if (s.encoding === undefined) {\n    return false;\n  }\n  if (s.key === undefined) {\n    return false;\n  }\n  if (s.nDigits === undefined) {\n    return false;\n  }\n  if (s.name === undefined) {\n    return false;\n  }\n  if (s.prefix === undefined) {\n    return false;\n  }\n  if (s.needCustomParams === undefined) {\n    return false;\n  }\n  return true;\n};\n\nconst findNextStep = (s: Partial<State>): PartialStateResolver | null => {\n  if (s.encoding === undefined) {\n    return askForEncoding;\n  }\n  if (s.key === undefined) {\n    return askForCode;\n  }\n  if (s.T0 === undefined || s.TX === undefined || s.nDigits === undefined) {\n    if (s.needCustomParams === true) {\n      return askForCustomParams;\n    }\n    return askForParameters;\n  }\n  if (s.name === undefined) {\n    return askForName;\n  }\n  if (s.prefix === undefined) {\n    return askForPrefix;\n  }\n  return null;\n};\n\nconst askForEncoding = async (\n  state: Partial<State>\n): Promise<Partial<State>> => {\n  const encodings = [\n    { label: AdditionalEncodings.BASE_32 },\n    { label: \"hex\" },\n    { label: \"ascii\" },\n    { label: AdditionalEncodings.OTPAUTH_URI },\n  ];\n  const pick = await window.showQuickPick(encodings, {\n    placeHolder: \"Which encoding does your seed have\",\n  });\n  return { ...state, encoding: pick?.label as State[\"encoding\"] | undefined };\n};\n\nconst askForParameters = async (\n  state: Partial<State>\n): Promise<Partial<State>> => {\n  const defaultParams = Symbol();\n  const customParams = Symbol();\n  type TItem = QuickPickItem & { id: symbol };\n  const items: TItem[] = [\n    {\n      id: defaultParams,\n      label: \"Use default parameters\",\n      description: \"T₀ = 0, 30 seconds interval, 6 digits\",\n      detail: \"T₀ = 0, 30 seconds interval, 6 digits\",\n    },\n    { label: \"Custom parameters...\", id: customParams },\n  ];\n\n  const pick = await window.showQuickPick(items, {\n    placeHolder: \"Optional parameters\",\n  });\n\n  if (pick === undefined) {\n    return state;\n  }\n  if (pick.id === defaultParams) {\n    return { ...state, T0: 0, TX: 30, nDigits: 6, needCustomParams: false };\n  }\n  return { ...state, needCustomParams: true };\n};\n\nconst askForName = async (state: Partial<State>): Promise<Partial<State>> => {\n  const name = await window.showInputBox({\n    prompt: \"Name of token\",\n    placeHolder: \"Name of token\",\n    ignoreFocusOut: true,\n  });\n  return { ...state, name };\n};\n\nconst askForPrefix = async (state: Partial<State>): Promise<Partial<State>> => {\n  const prefix = await window.showInputBox({\n    prompt: \"prefix of token\",\n    placeHolder: \"prefix\",\n    ignoreFocusOut: true,\n  });\n  return { ...state, prefix };\n};\n\nconst askForCustomParams = async (\n  state: Partial<State>\n): Promise<Partial<State>> => {\n  const _T0 = await window.showInputBox({\n    placeHolder: \"Initial timestamp\",\n    value: \"0\",\n    ignoreFocusOut: true,\n  });\n  const _TX = await window.showInputBox({\n    placeHolder: \"Interval length (seconds)\",\n    value: \"30\",\n    ignoreFocusOut: true,\n  });\n  const _nDigits = await window.showInputBox({\n    placeHolder: \"Interval length (seconds)\",\n    value: \"6\",\n    ignoreFocusOut: true,\n  });\n\n  return {\n    ...state,\n    T0: _T0 ? parseInt(_T0, 10) : undefined,\n    TX: _TX ? parseInt(_TX, 10) : undefined,\n    nDigits: _nDigits ? parseInt(_nDigits, 10) : undefined,\n  };\n};\n\nconst askForCode = async (state: Partial<State>): Promise<Partial<State>> => {\n  const getPlaceholder = () => {\n    if (state.encoding === AdditionalEncodings.OTPAUTH_URI) {\n      return \"otpauth://\";\n    }\n  };\n\n  const decode = (v: string): Uint8Array => {\n    switch (state.encoding) {\n      case AdditionalEncodings.BASE_32:\n        return to_u8a(\"base32\", v.toUpperCase());\n      case AdditionalEncodings.OTPAUTH_URI:\n        throw new Error(\"No decoder\");\n      case \"hex\":\n        const allCharacters = /^[0-9a-h]+$/i.test(v);\n        const charCount = v.length % 2 === 0;\n        if (!allCharacters) {\n          throw new Error(\n            \"Check that all characters are in 0-9,a-h range (case insensitive)\"\n          );\n        }\n        if (!charCount) {\n          throw new Error(\"Input length is uneven\");\n        }\n        return Buffer.from(v, \"hex\");\n      case \"ascii\":\n        const buf = Buffer.from(v, \"ascii\");\n        if (buf.toString(\"ascii\") !== v) {\n          throw new Error(\"Not all characters are in ascii range\");\n        }\n        return buf;\n      default:\n        throw new Error(\"Encoding is undefined\");\n    }\n  };\n  const key = await window.showInputBox({\n    prompt: \"Paste your code\",\n    placeHolder: getPlaceholder(),\n    ignoreFocusOut: true,\n    validateInput: (v) => {\n      try {\n        decode(v);\n      } catch (error) {\n        return (error as Error).message;\n      }\n    },\n  });\n  if (key !== undefined) {\n    return { ...state, key: decode(key) };\n  }\n  throw new Error(\"Key is undefined\");\n};\n\nexport async function addTOTP(context: ExtensionContext) {\n  async function collectInputs() {\n    let state = {};\n\n    while (!isFullState(state)) {\n      const step = findNextStep(state);\n      if (step === null) {\n        throw new Error(\"no steps\");\n      }\n      state = await step(state);\n    }\n\n    return state;\n  }\n\n  const state = await collectInputs();\n  const code: Code = {\n    name: state.name,\n    secret: from_u8a(state.key, \"hex\"),\n    type: \"hex\",\n    prefix: state.prefix,\n    T0: state.T0,\n    // state.TX is in seconds, Code['TX'] is in milliseconds\n    TX: state.TX * 1000,\n    nDigits: state.nDigits,\n  };\n  window.showInformationMessage(`Creating Application Service '${state.name}'`);\n  return code;\n}\n","import { QuickInputButton, ThemeIcon } from \"vscode\";\n\nexport const addButton: QuickInputButton = {\n  iconPath: new ThemeIcon(\"add\"),\n  tooltip: \"Add new OTP\",\n};\n\nexport const editButton: QuickInputButton = {\n  iconPath: new ThemeIcon(\"edit\"),\n  tooltip: \"Edit OTP\",\n};\nexport const backupButton: QuickInputButton = {\n  iconPath: new ThemeIcon(\"save\"),\n  tooltip: \"Backup codes\",\n};\nexport const restoreButton: QuickInputButton = {\n  iconPath: new ThemeIcon(\"folder-opened\"),\n  tooltip: \"Restore from backup\",\n};\n","export enum Command {\n  PICK = \"totp.pick\",\n  BACKUP = \"totp.backup\",\n  RESTORE = \"totp.restore\",\n  EDIT = \"totp.edit\",\n  CLEAR = \"totp.clear\",\n  NEW = \"totp.new\",\n}\n","import { ExtensionContext, window, workspace } from \"vscode\";\nimport { auto } from \"../store/versions/auto\";\nimport { askForEncryptionPassphrase } from \"../store/askForEncryptionPassphrase\";\n\nexport const totpBackup = async (context: ExtensionContext) => {\n  try {\n    const codes = await auto.loadFromState(context);\n    const passphrase = await askForEncryptionPassphrase();\n    if (passphrase === undefined) {\n      throw new Error(\"passphrase dialog aborted\");\n    }\n    const content = await auto.backup(context, codes, passphrase);\n\n    const d = await workspace.openTextDocument({ content, language: \"json\" });\n\n    window.showTextDocument(d);\n    window.showInformationMessage(\n      \"Save this document somewhere and don't forget the passphrase!\"\n    );\n  } catch (x) {\n    // debugger;\n  }\n};\n","import { ExtensionContext, window } from \"vscode\";\n\nimport { auto } from \"../store/versions/auto\";\n\nexport const totpClear = async (context: ExtensionContext) => {\n  try {\n    const YES = { label: \"♻️ CONFIRM PURGE ♻️\" };\n\n    const items = new Array(10)\n      .fill(0)\n      .map((x) => ({ label: \"❌ ABORT PURGE ❌\" }));\n    const index = Math.round(Math.random() * 8) + 1;\n    items[index] = YES;\n    const result = await window.showQuickPick(items);\n\n    if (result === YES) {\n      await auto.clear(context);\n    }\n  } catch (x) {\n    window.showInformationMessage((x as Error).message);\n  }\n};\n","import {\n  ExtensionContext,\n  window,\n  QuickPickItem,\n  Disposable,\n  commands,\n} from \"vscode\";\nimport { replaceCode, deleteCode } from \"../store/context\";\nimport { Result } from \"../pickOTP\";\nimport { Code } from \"../store/index\";\nimport { Command } from \"../commands\";\nimport { auto } from \"../store/versions/auto\";\n\nexport const pickForEdit = async (data: Code[]): Promise<Result<Code>> => {\n  return await new Promise((resolve, reject) => {\n    const disposables: Disposable[] = [];\n    const dispose = () => disposables.forEach((it) => it.dispose());\n    type Item = QuickPickItem & { code: Code };\n    const items: Item[] = data.map((code) => ({\n      code: code,\n      label: code.name,\n    }));\n\n    const qp = window.createQuickPick<Item>();\n    disposables.push(qp);\n    qp.title = \"Select item to edit\";\n    qp.items = items;\n\n    disposables.push(\n      qp.onDidChangeSelection((items) => {\n        const data = items[0].code;\n        resolve({ button: false, data });\n        dispose();\n      }),\n      qp.onDidHide(() => {\n        dispose();\n        reject();\n      })\n    );\n    qp.show();\n  });\n};\nexport const deleteRoutine = async (context: ExtensionContext, code: Code) => {\n  const confirmation = await window.showInputBox({\n    placeHolder: `Please type \"${code.name}\" to confirm deletion`,\n    prompt: `Before deleting this account, make sure that you have other means of generating codes for it`,\n    validateInput: (value) => {\n      if (value === code.name) return null;\n      return `Please type \"${code.name}\" to confirm deletion`;\n    },\n  });\n  if (confirmation === code.name) {\n    await deleteCode(context, code.name);\n  }\n};\nexport const renameRoutine = async (context: ExtensionContext, code: Code) => {\n  const newName = await window.showInputBox({\n    prompt: `Enter new name for ${code.name}`,\n    value: code.name,\n  });\n  if (newName === undefined) {\n    return;\n  }\n  await replaceCode(context, code.name, { ...code, name: newName });\n};\nexport const totpEdit = async (context: ExtensionContext) => {\n  try {\n    const data = await auto.loadFromState(context);\n    const entry = await pickForEdit(data);\n    if (entry.button) {\n      return;\n    }\n    const code = entry.data;\n    const RENAME = { label: \"Rename\" };\n    const DELETE = { label: \"Delete\" };\n    const result = await window.showQuickPick([RENAME, DELETE]);\n    if (!result) {\n      return;\n    }\n    if (result === RENAME) {\n      await renameRoutine(context, code);\n    }\n    if (result === DELETE) {\n      await deleteRoutine(context, code);\n    }\n\n    await commands.executeCommand(Command.PICK);\n  } catch (x) {\n    // debugger;\n  }\n};\n","import { ExtensionContext } from \"vscode\";\nimport { addTOTP } from \"../addTOTP\";\nimport { addCode } from \"../store/context\";\nexport const totpNew = async (context: ExtensionContext) => {\n  const code = await addTOTP(context);\n  addCode(context, code);\n};\n","import { ExtensionContext, commands, env, window } from \"vscode\";\nimport { pickOTPService } from \"../pickOTP\";\nimport { getInfo } from \"../store/index\";\nimport { Command } from \"../commands\";\nimport { addButton, editButton, restoreButton, backupButton } from \"../buttons\";\nimport { auto } from \"../store/versions/auto\";\nexport const totpPick = async (context: ExtensionContext) => {\n  try {\n    const ctxCodes = await auto.loadFromState(context);\n    const result = await pickOTPService(ctxCodes);\n\n    if (result.button) {\n      switch (result.data) {\n        case addButton: {\n          await commands.executeCommand(Command.NEW);\n          break;\n        }\n        case editButton: {\n          await commands.executeCommand(Command.EDIT);\n          break;\n        }\n        case restoreButton: {\n          await commands.executeCommand(Command.RESTORE);\n          break;\n        }\n        case backupButton: {\n          await commands.executeCommand(Command.BACKUP);\n          break;\n        }\n      }\n    } else {\n      const info = getInfo(result.data);\n      env.clipboard.writeText(info.code);\n      window.showInformationMessage(\"Passphrase copied to clipboard\");\n    }\n  } catch (x) {\n    // debugger;\n  }\n};\n","import { ExtensionContext, window, workspace } from \"vscode\";\nimport { merge, Persist, PassphraseGetter } from \"../store/context\";\n\nimport { auto } from \"../store/versions/auto\";\nconst passphraseGetter: PassphraseGetter = async () => {\n  const passphrase = await window.showInputBox({\n    prompt: \"Enter passphrase used for encryption\",\n    password: true,\n  });\n  if (passphrase === undefined) {\n    return null;\n  }\n  return passphrase;\n};\nexport const totpRestore = async (context: ExtensionContext) => {\n  try {\n    const uri = await window.showOpenDialog({\n      openLabel: \"Restore seeds\",\n      canSelectMany: false,\n      canSelectFiles: true,\n    });\n    if (!uri) {\n      return;\n    }\n    const data = await workspace.fs.readFile(uri[0]);\n    const backupData = data.toString();\n    const codes = await auto.restore(context, backupData, passphraseGetter);\n\n    if (codes.length !== 0) {\n      await merge(context, codes);\n      window.showInformationMessage(\n        `${codes.length} passphrases have been imported`\n      );\n    }\n  } catch (x) {\n    window.showErrorMessage(\n      `An error occured during decryption: \\n${(x as Error).message}`\n    );\n  }\n};\n","import { ExtensionContext, window, StatusBarAlignment } from \"vscode\";\nimport { Command } from \"./commands\";\nexport const makeStatusBarItem = () => {\n  const myStatusBarItem = window.createStatusBarItem(\n    StatusBarAlignment.Right,\n    100\n  );\n\n  myStatusBarItem.show();\n  myStatusBarItem.text = \"$(key)\";\n  myStatusBarItem.command = Command.PICK;\n  return myStatusBarItem;\n};\n","import { Code } from \"./store/index\";\nimport { window, QuickInputButton, QuickPickItem, Disposable } from \"vscode\";\nimport { addButton, editButton, backupButton, restoreButton } from \"./buttons\";\n\nexport type Result<TItem> =\n  | { button: true; data: QuickInputButton }\n  | { button: false; data: TItem };\n\nexport const pickOTPService = async (data: Code[]): Promise<Result<Code>> =>\n  await new Promise((resolve, reject) => {\n    const disposables: Disposable[] = [];\n    const dispose = () => disposables.forEach((it) => it.dispose());\n    type Item = QuickPickItem & { code: Code };\n    const items: Item[] = data.map((code) => ({\n      code: code,\n      label: code.name,\n    }));\n\n    const qp = window.createQuickPick<Item>();\n    disposables.push(qp);\n    qp.title = \"OTP Generator\";\n    qp.items = items;\n    qp.buttons = [addButton, editButton, backupButton, restoreButton];\n    disposables.push(\n      qp.onDidChangeSelection((items) => {\n        const data = items[0].code;\n        resolve({ button: false, data });\n        dispose();\n      }),\n      qp.onDidTriggerButton((btn) => {\n        resolve({ button: true, data: btn });\n        dispose();\n      }),\n      qp.onDidHide(() => {\n        dispose();\n        reject();\n      })\n    );\n    qp.show();\n  });\n","import { window } from \"vscode\";\nexport const askForEncryptionPassphrase = async () => {\n  const passphrase = await window.showInputBox({\n    prompt: \"Enter encryption passphrase\",\n    password: true,\n    placeHolder: \"Leave this empty if you don't want to encrypt (UNSAFE)\",\n  });\n  return passphrase;\n};\n","import { Code } from \"./index\";\nimport { ExtensionContext } from \"vscode\";\nimport { auto } from \"./versions/auto\";\nexport const STORE_VER_KEY = \"STORE_VER\";\nexport type PassphraseGetter = () => Promise<string | null>;\nexport interface Persist {\n  storeInState(ctx: ExtensionContext, codes: Code[]): Promise<void>;\n  loadFromState(ctx: ExtensionContext): Promise<Code[]>;\n  backup(\n    ctx: ExtensionContext,\n    codes: Code[],\n    passphrase: string\n  ): Promise<string>;\n  restore(\n    ctx: ExtensionContext,\n    backupData: string,\n    passphraseGetter: PassphraseGetter\n  ): Promise<Code[]>;\n  clear(ctx: ExtensionContext): Promise<void>;\n}\n\nexport const addCode = async (ctx: ExtensionContext, code: Code) => {\n  const allKeys = await auto.loadFromState(ctx);\n  const newKeys = [code, ...allKeys];\n  await auto.storeInState(ctx, newKeys);\n};\n\nexport const replaceCode = async (\n  ctx: ExtensionContext,\n  name: string,\n  newCode: Code\n) => {\n  const allKeys = await auto.loadFromState(ctx);\n  const newKeys = allKeys.map((key) => {\n    if (key.name === name) {\n      return newCode;\n    }\n    return key;\n  });\n  await auto.storeInState(ctx, newKeys);\n};\nexport const deleteCode = async (ctx: ExtensionContext, name: string) => {\n  const allKeys = await auto.loadFromState(ctx);\n  const newKeys = allKeys.filter((key) => key.name !== name);\n  await auto.storeInState(ctx, newKeys);\n};\n\nexport const merge = async (ctx: ExtensionContext, data: Code[]) => {\n  const ctxCodes = (await auto.loadFromState(ctx)) || [];\n\n  data.forEach((code) => {\n    const c = ctxCodes.find(\n      (ctxCode) => JSON.stringify(ctxCode) === JSON.stringify(code)\n    );\n\n    if (c === undefined) {\n      console.log(`merging code ${code.name}`);\n      ctxCodes.push(code);\n    }\n  });\n\n  await auto.storeInState(ctx, ctxCodes);\n};\n","import * as crypto from \"crypto\";\nconst EXPORT_ENCODING = \"hex\";\nconst ALGORITHM = \"aes-192-cbc\";\n\nexport const encode = (data: string, passphrase: string) => {\n  // Use the async `crypto.scrypt()` instead.\n  const key = crypto.scryptSync(passphrase, \"salt\", 24);\n  // Use `crypto.randomBytes` to generate a random iv instead of the static iv\n  // shown here.\n  const iv = Buffer.alloc(16, 0); // Initialization vector.\n\n  const cipher = crypto.createCipheriv(ALGORITHM, key, iv);\n\n  let encrypted = cipher.update(data, \"utf8\", EXPORT_ENCODING);\n  encrypted += cipher.final(EXPORT_ENCODING);\n  return encrypted;\n};\n\nexport const decode = (data: string, passphrase: string) => {\n  // Use the async `crypto.scrypt()` instead.\n  const key = crypto.scryptSync(passphrase, \"salt\", 24);\n  // Use `crypto.randomBytes` to generate a random iv instead of the static iv\n  // shown here.\n  const iv = Buffer.alloc(16, 0); // Initialization vector.\n\n  const decipher = crypto.createDecipheriv(ALGORITHM, key, iv);\n\n  let decrypted = decipher.update(data, EXPORT_ENCODING, \"utf8\");\n  decrypted += decipher.final(\"utf8\");\n  return decrypted;\n  // Prints: some clear text data\n};\n","import { getTOTP, SupportedEncodings } from \"simple-totp\";\nexport type Code = {\n  name: string;\n  secret: string;\n  prefix?: string;\n  type: SupportedEncodings;\n  T0: number;\n  TX: number;\n  nDigits: number;\n};\n\nexport const getInfo = (code: Code) => {\n  const { totp, remainingMs } = getTOTP(\n    code.secret,\n    code.type,\n    undefined,\n    code.nDigits,\n    code.T0,\n    code.TX\n  );\n  const prefix = code.prefix || \"\";\n  const remaining = Math.floor(remainingMs / 1000)\n    .toString(10)\n    .padStart(2, \"0\");\n  return { code: `${prefix}${totp}`, remaining, name: code.name };\n};\n","import { PassphraseGetter } from \"./context\";\nimport { window } from \"vscode\";\n\nexport const makePasswordCache: () => PassphraseGetter = () => {\n  let passphrase: string | null = null;\n  return async () => {\n    if (passphrase) {\n      return passphrase;\n    }\n\n    const input = await window.showInputBox({\n      prompt: \"Enter passphrase to unlock OTP storage\",\n      password: true,\n    });\n\n    if (input) {\n      passphrase = input;\n    }\n\n    return passphrase;\n  };\n};\n","import { Persist, STORE_VER_KEY } from \"../context\";\nimport { persistV1 } from \"./v1\";\nimport { persistV2 } from \"./v2\";\nconst latest = persistV2;\nexport const auto: Persist = {\n  storeInState: latest.storeInState,\n  backup: latest.backup,\n  clear: latest.clear,\n  async loadFromState(ctx) {\n    const v = ctx.globalState.get(STORE_VER_KEY);\n    switch (v) {\n      case 2:\n        return await persistV2.loadFromState(ctx);\n      case 1:\n      default:\n        return await persistV1.loadFromState(ctx);\n    }\n  },\n  async restore(ctx, backupData, passphraseGetter) {\n    const v = JSON.parse(backupData)[STORE_VER_KEY];\n    switch (v) {\n      case 2:\n        return await persistV2.restore(ctx, backupData, passphraseGetter);\n      case 1:\n      default:\n        return await persistV1.restore(ctx, backupData, passphraseGetter);\n    }\n  },\n};\n","import { Persist, STORE_VER_KEY } from \"../context\";\nimport { Code } from \"../index\";\nimport { window } from \"vscode\";\nimport { encode, decode } from \"../crypto\";\nconst KEY = \"TOTP\";\nconst STORE_VER = 1;\nexport const persistV1: Persist = {\n  async storeInState(ctx, codes) {\n    ctx.globalState.update(KEY, codes);\n    ctx.globalState.update(STORE_VER_KEY, STORE_VER);\n  },\n\n  async loadFromState(ctx) {\n    const value = ctx.globalState.get<Code[] | null>(KEY, null);\n    return value === null ? [] : value;\n  },\n\n  async backup(ctx, data, passphrase) {\n    const value =\n      passphrase === \"\"\n        ? { cleartext: data }\n        : {\n            encrypted: encode(JSON.stringify(data), passphrase),\n          };\n    const json = JSON.stringify(value, null, 2);\n    return json;\n  },\n\n  async restore(ctx, backupData, passphraseGetter) {\n    let passphrase;\n    const { cleartext, encrypted } = JSON.parse(backupData);\n    const codes: Code[] = [];\n    if (cleartext !== undefined) {\n      codes.push(...cleartext);\n    }\n    if (encrypted !== undefined) {\n      passphrase = await passphraseGetter();\n      if (!passphrase) {\n        throw new Error(\"No passphrase was supplied\");\n      }\n      codes.push(...JSON.parse(decode(encrypted, passphrase)));\n    }\n\n    return codes;\n  },\n  async clear(ctx): Promise<void> {\n    ctx.globalState.update(KEY, null);\n    ctx.globalState.update(STORE_VER_KEY, null);\n  },\n};\n","import { Persist, STORE_VER_KEY } from \"../context\";\nimport { window } from \"vscode\";\nimport { persistV1 } from \"./v1\";\nimport { makePasswordCache } from \"../passphraseGetter\";\nconst KEY = \"TOTP\";\nconst STORE_VER = 2;\nconst passphraseGetter = makePasswordCache();\nexport const persistV2: Persist = {\n  async storeInState(ctx, codes) {\n    const passphrase = await passphraseGetter();\n    if (passphrase === null) {\n      await window.showErrorMessage(\"Can't update storage\");\n      return;\n    }\n    ctx.globalState.update(KEY, await this.backup(ctx, codes, passphrase));\n    ctx.globalState.update(STORE_VER_KEY, STORE_VER);\n  },\n\n  async loadFromState(ctx) {\n    const backupData = ctx.globalState.get<string>(KEY, \"{}\");\n    const data = await this.restore(ctx, backupData, passphraseGetter);\n    return data;\n  },\n\n  backup: persistV1.backup,\n  restore: persistV1.restore,\n  clear: persistV1.clear,\n};\n","module.exports = require(\"vscode\");","module.exports = require(\"crypto\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { ExtensionContext, commands } from \"vscode\";\nimport { totpPick } from \"./commands/pick\";\nimport { Command } from \"./commands\";\nimport { totpNew } from \"./commands/new\";\nimport { totpEdit } from \"./commands/edit\";\nimport { makeStatusBarItem } from \"./makeStatusBarItem\";\nimport { totpBackup } from \"./commands/backup\";\nimport { totpRestore } from \"./commands/restore\";\nimport { totpClear } from \"./commands/clear\";\n\nexport function activate(context: ExtensionContext) {\n  console.log(\"Activated.\");\n  context.subscriptions.push(\n    commands.registerCommand(Command.NEW, () => totpNew(context)),\n    commands.registerCommand(Command.PICK, () => totpPick(context)),\n    commands.registerCommand(Command.BACKUP, () => totpBackup(context)),\n    commands.registerCommand(Command.RESTORE, () => totpRestore(context)),\n    commands.registerCommand(Command.EDIT, () => totpEdit(context)),\n    commands.registerCommand(Command.CLEAR, () => totpClear(context)),\n    makeStatusBarItem()\n  );\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n"],"names":[],"sourceRoot":""}